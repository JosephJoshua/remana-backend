post:
  tags:
    - auth
  summary: Logs in with credentials
  description: Logs in with credentials
  operationId: login
  requestBody:
    description: Login credentials
    required: true
    content:
      application/json:
        schema:
          $ref: ../../components/schemas/LoginCredentials.yaml
  responses:
    "200":
      description:
        "[Store employees only] User needs to log in with login code given
        by the store admin"
      headers:
        Set-Cookie:
          schema:
            type: string
            example: login_code_prompt_id=abcde12345; Path=/; Secure; HttpOnly
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/LoginCodePromptRedirection.yaml
    "204":
      description: >
        [Store admin only] Successful login. The session ID is returned in a
        cookie named `session_id`. You need to include this cookie in subsequent
        requests.
      headers:
        Set-Cookie:
          schema:
            type: string
            example: session_id=abcde12345; Path=/; Secure; HttpOnly
    default:
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/Error.yaml
